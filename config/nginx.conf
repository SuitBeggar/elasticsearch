# For detail structure of this file# Set: https://www.elastic.co/guide/en/logstash/current/configuration-file-structure.htmlinput {    #aoplog  file{	path => ["/home/bo/ELK2/bcbcb/access.log"]	type => "nginxlog"	start_position => "beginning"	codec => plain{      charset => "UTF-8"    }		ignore_older => 0  }}filter {	if[type] == "nginxlog"{	  ruby{		init => "@kname = ['clientip','serverip','ident','auth','requesttime','tmptime','httpmethod','urls','httpversion','status','size','targeturl','useragent']"		code => "event.append(Hash[@kname.zip(event['message'].split(' ', 13))])"	  }	  if[requesttime]{		ruby{			code => " timestr = event['requesttime']                      result = timestr[1,timestr.length]                      event.append(Hash['logtime' => result])                    "		}	  }	  if[urls]{        ruby {              init => "@kname = ['url','params']"              code => "event.append(Hash[@kname.zip(event['urls'].split('?'))])"        }      }  	  mutate {        		  remove_field => ["requesttime", "tmptime","urls","params"] 	  }      mutate {        convert => {"size" => "integer"}      }	  date {		match => [ "logtime", "dd/MMM/yyyy:HH:mm:ss" ]	  }	}}output {  # For detail config for elasticsearch as output,   # See: https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html  #aoplog  # stdout { codec => rubydebug  if [type] == "nginxlog" {    stdout {codec => rubydebug}  }}